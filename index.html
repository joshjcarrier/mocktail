<!DOCTYPE html>
<html lang="en" ng-app="mocktailApp">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
		<link rel="icon" type="image/x-icon" href="favicon.ico" />
		<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
		<meta name="description" content="Mocktail Generator">
		<meta name="author" content="Josh Carrier">
		<base target="_blank">
		<meta name="expires" content="0">
		
		<title>Mocktail Generator</title>
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<style>
			body {
				padding-left: 20px;
				padding-top: 30px;				
				padding-right: 20px;
				padding-bottom: 20px;
				
				background:url('assets/images/crunk_berry.jpg');
				background-repeat:no-repeat;
				background-attachment:fixed;
				background-position:right bottom; 
			}
			
			@media (min-width: 768px) {
				h1 {
					font-size: 72px;
				}
			}
		</style>
				
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
		
		<script>
			// Array Remove - By John Resig (MIT Licensed)
			Array.prototype.remove = function(from, to) {
			  var rest = this.slice((to || from) + 1 || this.length);
			  this.length = from < 0 ? this.length + from : from;
			  return this.push.apply(this, rest);
			};
			
			function bogoSort()
			{
				return Math.floor(Math.random() * 0.5); 
			}
			
			var mocktailApp = angular.module('mocktailApp', []);
			 
			mocktailApp.controller('SlotsCtrl', function ($scope) {
				var available_options = [
					{
						'name': 'Coca Cola',
						'img_url': 'assets/images/cocacola.jpg'
					},
					{
						'name': 'Dr. Pepper',
						'img_url': 'assets/images/drpepper.jpg'
					},
					{
						'name': 'Fresca Citrus',
						'img_url': 'assets/images/fresca_citrus.jpg'
					},
					{
						'name': 'Fusion Lemon Lime',
						'img_url': 'assets/images/talkingrain_natural.jpg'
					},
					{
						'name': 'Fusion Pomegranate',
						'img_url': 'assets/images/talkingrain_natural.jpg'
					},
					{
						'name': 'Fuze Lemon Iced Tea',
						'img_url': 'assets/images/fuze_lemon.jpg'
					},
					{
						'name': 'Minute Maid Lemonade',
						'img_url': 'assets/images/minutemaid_lemonade.jpg'
					},
					{
						'name': 'Mountain Dew',
						'img_url': 'assets/images/mountaindew.jpg'
					},
					{
						'name': 'Mug Root Beer',
						'img_url': 'assets/images/mug.jpg'
					},
					{
						'name': 'Ocean Spray Grapefruit Juice',
						'img_url': 'assets/images/oceanspray_grapefruit.jpg'
					},										
					{
						'name': 'Orange Crush',
						'img_url': 'assets/images/orangecrush.jpg'
					},
					{
						'name': 'Pepsi',
						'img_url': 'assets/images/pepsi.jpg'
					},
					{
						'name': 'Seagram\'s Ginger Ale',
						'img_url': 'assets/images/seagrams_gingerale.jpg'
					},
					{
						'name': 'Sprite',
						'img_url': 'assets/images/sprite.jpg'
					},
					{
						'name': 'Talking Rain Black Raspberry',
						'img_url': 'assets/images/talkingrain_natural.jpg'
					},
					{
						'name': 'Talking Rain Lemon Lime',
						'img_url': 'assets/images/talkingrain_lemonlime.jpg'
					},
					{
						'name': 'Talking Rain Natural',
						'img_url': 'assets/images/talkingrain_natural.jpg'
					},
					{
						'name': 'Talking Rain Peach Nectarine',
						'img_url': 'assets/images/talkingrain_natural.jpg'
					},
					{
						'name': 'Talking Rain Strawberry Watermelon',
						'img_url': 'assets/images/talkingrain_natural.jpg'
					},
					{
						'name': 'Welch\'s Apple Juice',
						'img_url': 'assets/images/welch_apple.jpg'
					},
					{
						'name': 'Welch\'s Cranberry Juice',
						'img_url': 'assets/images/welch_cranberry.jpg'
					},
					{
						'name': 'Welch\'s Grape Juice',
						'img_url': 'assets/images/welch_grape.jpg'
					},
					{
						'name': 'Welch\'s Orange Juice',
						'img_url': 'assets/images/welch_orange.jpg'
					}
				];
			
				$scope.slots = [];
			  
				$scope.addSlot = function() {
					if(available_options.length == 0) { return; }
					available_options.reverse();
					available_options.sort(bogoSort);
					var randomIndex = Math.floor(Math.random() * (available_options.length));
		 			var randomOption = available_options[randomIndex];
					available_options.remove(randomIndex);
					$scope.slots.push(randomOption);
				};
				
				function removeSlot() {
					if($scope.slots.length == 0) { return; }
					var availableOption = $scope.slots.pop();
					available_options.push(availableOption);
				}
				
				$scope.removeSlot = function() {
					if($scope.slots.length == 1) { return; }
					removeSlot();
				};
				
				$scope.resetSlots = function() {
					var slotCount = $scope.slots.length;
					for (var i = 0; i < slotCount; i++)
					{
						removeSlot();
					}
					
					for (var i = 0; i < slotCount; i++)
					{
						$scope.addSlot();
					}
				};
				
				$scope.addSlot();
				$scope.addSlot();
				$scope.addSlot();
			});
		</script>
	</head>
	<body ng-controller="SlotsCtrl">
		<center>
			<h1>MOCKTAIL {{slots.length}}000</h1>
			<hr />
			
			<div class="row">
				<div class="col-xs-3" ng-repeat="slot in slots">
					<div class="thumbnail">
						<img src="{{slot.img_url}}" alt="{{slot.name}}" class="" style="height: 200px">
						
						<div class="caption" style="min-height:80px">
							<h4>{{slot.name}}</h4>
						</div>
					</div>
			  </div>
			</div>
			
			<hr />
			<button type="button" class="btn btn-default btn-danger btn-lg" ng-click="removeSlot()">- TURN DOWN FOR WHAT</button>
			<button type="button" class="btn btn-default btn-success btn-lg" ng-click="addSlot()">+ SLOTS SLOTS SLOTS EVERYBODY</button>
			<br />
			<br />
			<button type="button" class="btn btn-default btn-primary btn-lg" ng-click="resetSlots()">YEAH! WHAT? OKAY</button>
		</center>
		
		<script src="http://ajax.aspnetcdn.com/ajax/bootstrap/3.1.1/bootstrap.min.js"></script>
		
		<footer style=" position: absolute; bottom: 0; width: 100%;">
			<div class="pull-left">
				&copy; 2014 <script>document.write('<'+'a'+' '+'h'+'r'+'e'+'f'+'='+"'"+'&'+'#'+'1'+'0'+'9'+';'+'a'+'i'+'&'+'#'+'1'+'0'+'8'+';'+'t'+'o'+'&'+'#'+'5'+'8'+';'+'&'+'#'+'3'+'7'+';'+'6'+'A'+'%'+'6'+'F'+'s'+'%'+'6'+'8'+'&'+'#'+'6'+'4'+';'+'j'+'&'+'#'+'1'+'1'+'1'+';'+'%'+'&'+'#'+'5'+'5'+';'+'3'+'h'+'&'+'#'+'1'+'0'+'6'+';'+'%'+'6'+'3'+'%'+'6'+'1'+'%'+'7'+'2'+'r'+'&'+'#'+'3'+'7'+';'+'&'+'#'+'5'+'4'+';'+'&'+'#'+'5'+'7'+';'+'&'+'#'+'3'+'7'+';'+'6'+'5'+'&'+'#'+'1'+'1'+'4'+';'+'&'+'#'+'4'+'6'+';'+'&'+'#'+'9'+'9'+';'+'&'+'#'+'1'+'1'+'1'+';'+'%'+'6'+'&'+'#'+'6'+'8'+';'+"'"+'>Josh Carrier<'+'/'+'a'+'>');</script><noscript>Josh Carrier</noscript>.
				<small>Made possible with <a href="http://angularjs.org/">AngularJS</a> and <a href="http://getbootstrap.com/">Bootstrap</a> &middot; <a href="license-ext.txt">Open source licenses</a>.</small>
			</div>
		</footer>
	</body>
</html>